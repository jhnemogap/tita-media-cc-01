{"mappings":"kBAAOA,EAAkBC,GAAAA,CAAuB,cAAe,mBACxDC,EAAoBC,GAAAA,CAAuB,wBAAyB,yBAKvDC,SAASC,eAAeL,GAEhCM,QAAU,IAAMF,SAASC,eAAeJ,GACjDM,UAAUC,OAAO,kCAIdC,EAAgBL,SAASC,eAAeH,GACxCQ,EAAgBN,SAASC,eAAeF,GAExCQ,EAAqBC,UACnBC,EAAAA,CAAgBC,MAAO,wBAAyBC,MAAO,yCACzDC,EAAWC,MAAMC,KAAKd,SAASe,qBAAqB,YACpDN,EAAYD,KAAUI,EAAS,GAAGT,UAAUa,OAC9CJ,EAASK,KAAKC,IACVA,EAAKf,UAAUC,OAAOK,EAAYC,OAClCQ,EAAKf,UAAUC,OAAOK,EAAYE,WAK1CN,EAAcH,QAAU,IAAMK,EAAkB,SAChDD,EAAcJ,QAAU,IAAMK,EAAkB,eAI1CY,EAAWnB,SAASC,eA7BJ,mBAqDhBmB,EAAAA,IAAqBC,gBAAgBC,OAAOC,SAASC,QAASC,IAAI,WAAa,eAIjFC,EAAAA,CACFC,UAAW,GACXC,UAAW,GACXC,cAAeC,IACfC,KAAM,EACNC,SAAU,GACVC,OAAAA,UAkBIC,EAAoB,iBAGlBC,EAAAA,0CAA6Cf,cAA0BM,EAAUM,iBACjFI,EAA4B,IAAnBV,EAAUK,KAAaI,EAAkBT,QAAlBS,EAAkBT,SAAAA,IAAAA,OAAAA,EAAAA,EAAWC,UAC/DS,GApBN,UAAAC,IAAqBA,EAAAA,OAAKC,GAAUC,GAClCC,MAAMH,EAAAA,CACJI,OAAQ,MACRC,QAAAA,CACEC,eAAgB,mBAChBC,cAAiBN,KAGlBO,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,GAAWT,EAAWS,KAC5BC,OAAOC,IACNC,QAAQD,MAAM,gBAAiBA,EAAME,YAUvCC,CAAAA,CAAYhB,IAAKD,EAAQE,OAJrBgB,6DAIyCC,IAC3C7B,EAAY6B,EA1CctB,CAAAA,UACxBuB,EAAqBvB,EAAOhB,KAAKC,GAhBjBuC,CAAAA,cACdC,EAAAA,aAAKC,GAAiBF,qHAKlBC,MAAAA,OAAAA,EAAAA,EAAKE,UAAUF,MAAAA,OAAAA,EAAAA,EAAKG,+BACXF,uEAS2BG,CAAe5C,KAAO6C,KAAK,IAC3E5C,EAAS6C,mBAAmB,YAAaR,IAyCrCS,CAAuBvC,EAAUO,YAMvCC,IAEAlC,SAASC,eAlGc,aAkGiBiE,iBAAiB,SAAS,IAAMhC","sources":["./src/index.js"],"sourcesContent":["const [burgerMenuHtmlId, burgerNavBarHtmlId] = [\"burger-icon\", \"nav-bar-burger\"];\nconst [galleryMode1HtmlId, galleryMode2HtmlId] = [\"change-gallery-mode-1\", \"change-gallery-mode-2\"];\nconst showMoreHtmlId = \"show-more\";\nconst galleryHtmlId = \"gallery-masonry\";\n\n// ++++++  Change mode: main navigation menu  ++++++\nconst $burgerIcon = document.getElementById(burgerMenuHtmlId);\n\n$burgerIcon.onclick = () => document.getElementById(burgerNavBarHtmlId)\n  .classList.toggle(\"nav-bar-burger-toggle-on\");\n\n\n// ++++++  Change mode: gallery  ++++++\nconst $galleryMode1 = document.getElementById(galleryMode1HtmlId);\nconst $galleryMode2 = document.getElementById(galleryMode2HtmlId);\n\nconst changeGalleryMode = (mode) => {\n  const nameOfClass = { mode1: \"gallery-masonry__item\", mode2: \"gallery-masonry__item--single-row\" };\n  let articles = Array.from(document.getElementsByTagName(\"article\"));\n  if (nameOfClass[mode] !== articles[0].classList.value) {\n    articles.map((item) => {\n        item.classList.toggle(nameOfClass.mode1);\n        item.classList.toggle(nameOfClass.mode2);\n    })\n  }\n};\n\n$galleryMode1.onclick = () => changeGalleryMode(\"mode1\");\n$galleryMode2.onclick = () => changeGalleryMode(\"mode2\");\n\n\n// ++++++  Show Data  ++++++\nconst $gallery = document.getElementById(galleryHtmlId);\n\nconst CardForGallery = (photo) => {\n  const { src, photographer } = photo;\n  return (\n    `<article class=\"gallery-masonry__item\">\n      <img\n        class=\"gallery-masonry__image\"\n        src=${src?.medium ?? src?.tiny}\n        alt=\"take by ${photographer}\"\n        itemProp=\"thumbnailUrl\"\n      />\n    </article>\n    `\n  );\n};\n\nconst insertNewCardToGallery = (photos) => {\n  const cardsJoinAsOneHtml = photos.map((item) => CardForGallery(item)).join(\"\");\n  $gallery.insertAdjacentHTML(\"beforeend\", cardsJoinAsOneHtml);\n};\n\n\n// ++++++  Read URL  ++++++\nconst valueToSearch = (new URLSearchParams(window.location.search)).get(\"search\") ?? \"trending\";\n\n// ++++++  Get Data  ++++++\n// const pagingControl = { next: null, prev: null };\nlet newPhotos = {\n  next_page: \"\",\n  prev_page: \"\",\n  total_results: NaN,\n  page: 0,\n  per_page: 14,\n  photos: []\n};\n\nfunction getPhotos({ url, apiKey }, setNewData) { // generic fetch with url, apikey and callback\n  fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": apiKey\n    }\n  })\n    .then((response) => response.json())\n    .then((result) => setNewData(result))\n    .catch((error) => {\n      console.error(\"El error fue:\", error.message);\n    });\n}\n\nconst getPhotosByPexels = () => {\n  const API_URL = process.env.API_URL;\n  const API_KEY = process.env.API_KEY;\n  const firstRequestUrl = `${API_URL}/search?query=${valueToSearch}&per_page=${newPhotos.per_page}&page=`;\n  const reqUrl = newPhotos.page === 0 ? firstRequestUrl : newPhotos?.next_page;\n  if (reqUrl) {\n    getPhotos({ url: reqUrl, apiKey: API_KEY }, (resp) => {\n      newPhotos = resp;\n      insertNewCardToGallery(newPhotos.photos);\n    });\n  }\n};\n\n// First request of Photos\ngetPhotosByPexels();\n// consequent calls to action to show more\ndocument.getElementById(showMoreHtmlId).addEventListener(\"click\", () => getPhotosByPexels());\n"],"names":["$fd2529332f9a8d47bcbfc24d96cad436$var$burgerMenuHtmlId","$fd2529332f9a8d47bcbfc24d96cad436$var$burgerNavBarHtmlId","$fd2529332f9a8d47bcbfc24d96cad436$var$galleryMode1HtmlId","$fd2529332f9a8d47bcbfc24d96cad436$var$galleryMode2HtmlId","document","getElementById","onclick","classList","toggle","$fd2529332f9a8d47bcbfc24d96cad436$var$$galleryMode1","$fd2529332f9a8d47bcbfc24d96cad436$var$$galleryMode2","$fd2529332f9a8d47bcbfc24d96cad436$var$changeGalleryMode","mode","nameOfClass","mode1","mode2","articles","Array","from","getElementsByTagName","value","map","item","$fd2529332f9a8d47bcbfc24d96cad436$var$$gallery","$fd2529332f9a8d47bcbfc24d96cad436$var$valueToSearch","URLSearchParams","window","location","search","get","$fd2529332f9a8d47bcbfc24d96cad436$var$newPhotos","next_page","prev_page","total_results","NaN","page","per_page","photos","$fd2529332f9a8d47bcbfc24d96cad436$var$getPhotosByPexels","firstRequestUrl","reqUrl","url","apiKey","setNewData","fetch","method","headers","Content-Type","Authorization","then","response","json","result","catch","error","console","message","$fd2529332f9a8d47bcbfc24d96cad436$var$getPhotos","API_KEY","resp","cardsJoinAsOneHtml","photo","src","photographer","medium","tiny","$fd2529332f9a8d47bcbfc24d96cad436$var$CardForGallery","join","insertAdjacentHTML","$fd2529332f9a8d47bcbfc24d96cad436$var$insertNewCardToGallery","addEventListener"],"version":3,"file":"index.5de9b880.js.map"}